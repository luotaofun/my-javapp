[
    "把他的数据也放在了主索引里面",
    "就是把索引和数据集合在一起了",
    "所以叫 cluster ",
    "所以叫聚簇",
    "聚在一起了",
    "这就是聚簇这个名字的由来",
    "那首先据速索引呢",
    "是根据表的主键构造的一个 B 加数啊",
    "也就是说它的叶子节点上存的是行 id 和数据",
    "但是它的上层啊",
    "一层层的树的形成都是以主键为 K ",
    "叶子节点是直接存放好数据的",
    "而不是指针",
    "也就是说，不像咱们想象的",
    "叶子节点上存放的是地址",
    "存放的是数据在哪啊",
    "不是叶子节点直接就存放数据啊",
    "如果不太明白，不要着急",
    "下面的两三节我们会把这个事情讲清楚",
    "索引组织表中呢",
    "数据也是 B 加数的一部分",
    "其实第三点和第二点他是反过来说的",
    "在索引组织表里面",
    "数据也是 B 加数的一部分",
    "反过来说就是 B 加数里面是直接存放着数据的",
    "我们这么用文字表达还是不够的形象，对吧",
    "我们拿了一张图",
    "大家看这张图啊",
    "我们首先看这个表格的部分啊",
    "这个表格啊",
    "这是我们的数据啊",
    "这是一张表",
    "我竖着写了啊",
    "大家看啊",
    "K 是0~7",
    "也就是说它的主键是0~7",
    "它的数据啊",
    "零这行数据的这行的数据是 A ",
    "也就是说它只有两个字段啊",
    "一个字段是这个 A 、 B 、 C 、 D 、 E 、 F 、 G ",
    "一个字段是 id ",
    "也就是说 id 是二的",
    "这一行它的数据只有一个字段叫 C ",
    "id 是五的这行他的数据只有一个字段叫 F ",
    "这样你能看懂了吧",
    "这个表是横着写的",
    "这个表整明白了",
    "我们看这个，这是个什么东西",
    "这就是个 B 加数",
    "哎，有同学说，哎，老师不对啊",
    "跟我们上一节讲的这个 B 加数是两回事",
    "感觉好乱啊",
    "为什么呢",
    "不一样",
    "因为这是 ino dB 的实现",
    "实现和理论之间永远是有区别的啊",
    "实线要根据具体的情况啊",
    "要调整",
    "要加东西啊",
    "好，这个变压数我们从上面来看",
    "首先这个框是什么",
    "是根节点",
    "是根节点对吧",
    "大家看根节点上面有个以 few Bie 和一个 SUPERMEME ",
    "这两个是它的最小的指针和最大的指针",
    "什么意思",
    "也就是下限指针和上限指针来指示到头了",
    "比如说啊，我们画的比较简单啊",
    "这个表比较简单",
    "这个节点里面只有两个数据",
    "其实啊，在真正的 B 加数里面",
    "这一个节点就有几千几万个",
    "所以它需要有一个上限指针和下限指针",
    "遍历这个块的时候啊",
    "来指示你",
    "遍历这个页的时候",
    "它便利到头了",
    "我们上节课是不是还说过",
    "B 加数里面除了叶子节点",
    "就是除了下面这一层上层的啊",
    "都没有真正的数据",
    "上层是干嘛呢",
    "上层是只是搜索用的啊",
    "只是你想要的那个 id 在哪个子树上",
    "好，那怎么个搜索法呢",
    "大家看啊",
    "这个块，这个数据结构",
    "大家看这个数据结构写的什么",
    "指向了4号页",
    "大于等于零",
    "大家说，哎",
    "这个东西不是个块吗",
    "怎么叫配置呀",
    "在 NODB 里面",
    "是这样的",
    "B 加数的块它就叫配置",
    "就 B 加数的节点",
    "在理论上 B 加数的节点叫 node ，叫 node ",
    "它就叫配置",
    "但是在 ino dB 里面",
    "它的节点就叫配置",
    "配置这个东西",
    "同时啊，也是在存储结构里面用的",
    "这个后面我们会详细的研究",
    "就是说它是怎么把存储结构和这个数据理论",
    "结合在一块的",
    "就是用这个液配置",
    "也就是说这一个数据表明什么呢",
    "好",
    "大于零就大于等于零的所有的数据在4号页啊",
    "什么意思呢",
    "你去4号页找",
    "比如说如果我搜索啊",
    "select 星 from table t 对吧",
    "where r id 等于零啊",
    "where id 等于零",
    "是不是要首先从根节点遍历对吧",
    "我查第一个数据",
    "通过节点遍历",
    "第一个数据只是我什么大于等于零的",
    "你去4号页找",
    "所有的数据",
    "那这个时候干嘛呀",
    "马上 ino dB ，马上去磁盘里面",
    "我的 MYSQL 啊",
    "把4号页读出来",
    "他怎么读呢",
    "因为这个它指向的这个4号",
    "也是有在磁盘中的位置的啊",
    "把4号也读出来",
    "把 SA 读出来之后",
    "我不是要搜索 id 等于零的吗",
    "大家看这是什么",
    "他搜索过来之后",
    "这是下限指针，对吧",
    "发现它是最小的，对吧",
    "他找到这个下限指针",
    "好，从下按指针开始",
    "它指向了第一个数据",
    "第一个数据叫什么呀",
    "大于等于零的所有的数据",
    "你去6号页找",
    "他马上啊",
    "你去6号页找号",
    "又从磁盘里面根据6号页的地址找出来",
    "6号页这一个页",
    "好",
    "6号叶是是什么了呀",
    "6号叶是叶子节点了",
    "叶子节点就跟上层的节点不一样",
    "大家看6号页也是有一个下限指针",
    "你根据下限指针指向的第一个数据",
    "大家看跟上面不一样了吧",
    "指向的第一个数据",
    "不是范围啊",
    "这就是什么 key 了",
    "上面都是给你范围",
    "这个不是范围",
    "不是范围就是零，就是零",
    "id 是零的这个数据就在此",
    "它的数据内容也在这个块里面啊",
    "也在这条数据里面",
    "这就是我们所谓的印度 dB 里面索引及数据",
    "或者反过来说",
    "数据就存放在索引的这个 B 加数里面",
    "那我们再比如说啊",
    "我要找 where id 等于一的这行数据",
    "好， VRID 等于一",
    "id 是1 V 2的一个字段是 B ",
    "就是这个啊",
    "它的值是比还是上面是一样的啊",
    "从根节点开始找找",
    "找到配置四",
    "哎，好，配置六",
    "配置四，再找配置六",
    "有个问题什么呢",
    "他不是第一个啊",
    "不是第一个是怎么找的呢",
    "啊，先找下线节点对吧",
    "下线节点指向第一个数据",
    "第一个数据它比对",
    "从印度 dB 里面给 MYSQL 的 SQL 层",
    "最后层一看，不对",
    "这条数据的 id 是零啊，不对",
    "再往下找下一个",
    "找下一个",
    "零指向它下一个数据的指针的 K 就是一对了",
    "他有个指针看吗",
    "找到了就是它",
    "而且它的每一个字段都跟它存在一起啊",
    "每一个字段都跟主索引的叶子节点存在一起",
    "这里我们这个表只有两个字段对吧",
    "一个 key ，一个字母",
    "十个字段也都存在这一个块里面啊",
    "如果他有五个字段",
    "也都存在这一个数据结构里面",
    "好，我们再举一个例子吧",
    "啊，比如说我如果找 id 是五的这项数据啊",
    "先找什么呀",
    "先找根节点对吧",
    "根节点里面大于等于零的",
    "要取四",
    "但是我这个不是啊",
    "要去4号位",
    "我这个不是",
    "再找啊，大于等于四的",
    "我的这个5号 id 更符合大于等于四",
    "大于等于四的",
    "它不是更符合大于等于零",
    "虽然说我通过这个大于等于零找到配置四",
    "我可以从这啊看到我找到配置四",
    "我可以大于等于零",
    "再用它这一层中间的一个双向的指针",
    "大于等于二",
    "再找到下一个配置五",
    "但是这样太远了",
    "应该这样找",
    "那应该怎么找",
    "大于等于零的",
    "再找下一个大于等于四的",
    "大于等于四",
    "发现更符合什么",
    "而且大于等于四是上限了对吧",
    "大于等于四是上限",
    "所以5 id 等于五的这行数据肯定在配置五的指数",
    "然后从下线开始找，找",
    "第一个数据大于等于四",
    "第二个数据大于等于六",
    "那我的 id 是五的",
    "这套数据应该在哪个指数下面啊",
    "应该在大于等于四的子数下面啊",
    "因为大于等于四和大于等于六",
    "它更符合这个大于等于四到大于等于四",
    "为什么呢",
    "这个配置",
    "读到内存里面开就开始遍历了啊",
    "第一个找这个 id 是四，不对",
    "它有指针啊",
    "指向下一个 id 是五，对了",
    "这就是找到 id 是五的这条数据的过程",
    "搜索的过程",
    "如果说我们是范围查询",
    "比如说我要搜 id 大于一小于五",
    "我首先找 id 大于一",
    "id 大于一小于五",
    "从那找找找从根节点",
    "呃，子节点啊",
    "叶子节点找 id 等于一的",
    "找到了对吧",
    "我不用从根节点再往下找它等于二的",
    "大于一的呢",
    "而是大家看大于一的",
    "往往上编理发现他是上限指针对吧",
    "没事，上限指针还可以再往上编理",
    "再往上他就是用这个指针去找配置器",
    "也就是说这个配置七不光可以从根节点遍历下来",
    "也可以从配置六用链表的形式遍历过来",
    "比一大的这个页",
    "在这马上就能找到。二",
    "然后呢，比二大的这条数据是三",
    "比三大的数据一看到头了",
    "那就找比配置七大的这个页，配置八",
    "通过这个指针就能找到",
    "也就是说大于一、小于五的二、三、四",
    "然后再找到 id 4",
    "这三条就能搜索到",
    "这就是实际上啊",
    "B 加数在 inno dB 里面实现的数据结构",
    "是不是跟 B 加数的理论还是有很多不一样的",
    "比如说 B 加数的理论它是什么",
    "如果是两个数据",
    "它应该是三个指针",
    "双数据、三指针",
    "这儿有个指针",
    "这儿有个指针",
    "这儿有个指针",
    "而 INDODB 实现的时候是不一样的",
    "它两个数据只有两个指针",
    "而且普通的 B 加数中间层",
    "每同层的叶子节点啊",
    "同层的这个节点之间没有指针的",
    "在印度 dB 里面它也加上了指针",
    "这样更方便于什么范围查找",
    "好，这就是主索引",
    "主索引就是这样的数据结构",
    "有同学问辅助索引是什么样的",
    "辅助索引其实跟主索引几乎是差不多的",
    "只有一个地方不一样",
    "我们看一下辅助索引",
    "在英文里面叫 secondary index 啊",
    "secondary 是什么次要的索引不是主要的",
    "那我们用过啊",
    "MYSQL 或者印度 dB 的都知道",
    "每张表可以有多个辅助索引",
    "甚至你可以建联合索引",
    "也就是说多行多个字段组成的索引",
    "但是辅助索引的结构啊",
    "跟主索引非常的像",
    "虽然也是 B 加数",
    "但是叶子节点并不包含行数据",
    "这个大家都能理解，对吧",
    "很多人也听说过什么回表啊",
    "为什么呀",
    "这些东西",
    "因为叶子结点记录的是行数据的主键",
    "用来指示数据位置",
    "我们回到上一张图",
    "什么意思啊",
    "我们回到上一个图",
    "这是主索引的",
    "那辅助索引是什么样的",
    "辅助索引就是正好反过来啊",
    "他的键都是",
    "比如说我，我用 A 、 B 、 C 、 D 、 E 、 F 、 G 啊",
    "这一个字段做一个辅助索引",
    "那这个辅助算应该长什么样呢",
    "它的键啊，都是 A 、 B 、 C 、 D 、 E 、 F 、 G 、 H 啊",
    "都是这个字段里面的数据",
    "大于等于 A ",
    "也就是说这里会写什么",
    "大于等于 A 的所有的这个数据",
    "在这个指数里面",
    "这个地方还是指针",
    "指向配置的指针",
    "那这个地方也是大于等于 A 的",
    "所有的数据在下面的节点里面，对吧",
    "好，到了节点里面",
    "这里就反过来了",
    "这里就反过来了",
    "这个键是 A ",
    "这个值是 id ",
    "他俩就互换了",
    "明白吗",
    "键是 A ，值是 id ",
    "这样的话，比如说我用这条索引去找",
    "这个字段是 A 的",
    "字段是 A 的数据怎么找",
    "最后只能查询到什么",
    "我找找找",
    "这个字段是 A 的",
    "id 是零",
    "id 是零啊",
    "如果这是张大表的话啊",
    "他有七八个字段",
    "我如果想把剩下七八个字段都查出来怎么办",
    "我现在只知道他的 id 是零",
    "我反过来再找主索引",
    "再从主索引上去找",
    "id 是零的那一行数据都在主索引里面啊",
    "也就是说，就跟我们前面那一页讲的一样",
    "辅助索引你也是一个表",
    "辅助索引也是一个 B 加数",
    "如果比如说一张表里面有一个主索引",
    "两个辅助索引",
    "那么请问这张表有几个 B 加数",
    "这张表有三个 B 加数",
    "辅助索引一个 B 加数",
    "一个 B 加数",
    "两个辅助索引",
    "一个 B 加数",
    "一个辅助索引",
    "所以一个主索引",
    "两个辅助索引是三个 B 加数",
    "你甚至可以认为一个主索引",
    "两个辅助索引是三张表",
    "第一张表主索引",
    "它是存放着所有的数据啊",
    "我们数据表所有的数据",
    "后面两个辅助索引",
    "每一个辅助索引都可以看成一个独立的表",
    "而这个表的键",
    "这个表的 K 是辅助索引字段",
    "而这个表的值只有一个值",
    "那就是他的行 id ",
    "他的行的 id 也就是组建",
    "那所谓的回表又是什么呢",
    "回表指的是我通过辅助索引",
    "查询到了这一行的 id ",
    "那我要想查这一行的其他数据呢",
    "我这个辅助索引是提供不了的",
    "那我需要回去查主索引",
    "那怎么办呢",
    "再把这个行的其他所有的数据都查出来",
    "这就是所谓的回表",
    "好，我们总结一下今天的内容啊",
    "这个 ino dB 分为什么聚簇索引和辅助索引",
    "还记得为什么它叫聚簇",
    "聚簇索引也叫主索引",
    "所以嘛，是因为他把索引和数据都塞在一块了啊",
    "所以叫巨簇索引",
    "那么在同层的 B 加数节点之间是双向链表",
    "这是 inno dB 对 B 加数的特殊的实现啊",
    "不光在底层的叶子节点是链表",
    "它在同层的 B 加数节点之间也是双向链表",
    "那在 B 加数节点之内呢",
    "数据条目之间为单向列表",
    "刚才在同一个 B 加数节点啊",
    "你还记得吗",
    "有一个下限的指针",
    "在下限和上限指针之间只能单向的便利",
    "有个上限的指针",
    "从下限的指针遍历到单向的指针",
    "是不能道德便利",
    "这也决定了 B 加数在搜索的时候啊",
    "只能从低往高搜索",
    "就从小往大搜索",
    "那么我们所谓的索引及数据",
    "是把数据值",
    "4-4",
    "4-4"
]