[
    "这一小节我们来继续研究啊",
    "好，各位同学啊",
    "B 数和 B 加数是怎么诞生的",
    "是怎么被应用在 ino dB 里面的",
    "我们讲到平衡二叉树",
    "它其实已经是一个性能非常好的",
    "那么上一小节呢",
    "这种二叉查找树了啊",
    "就是说它的这个查找的时候",
    "和二叉搜索数是相同的",
    "它的时间复杂度都是烙文已经比较低了",
    "而且增删改的时候",
    "它通过旋转可以维护数的平衡",
    "使它保证不会退化成链表啊",
    "其实它的性能是非常优良的",
    "但是为什么我们的数据库是没有用这种平号二叉树",
    "作为这种啊，索引的数据结构的呢",
    "其实就是因为它有一个致命的缺点是什么",
    "它的一个节点所包含的数据量太低了",
    "像这种，比如说二叉树啊",
    "大家看啊",
    "平衡二叉树呀",
    "这种树形结构",
    "还有红黑树啊",
    "它的一个节点只有什么一条数据",
    "比如说这条是 ID 等于六的一行啊",
    "明白吗",
    "那这一行的数据都在这个节点里面，对吧",
    "id 等于六的一行",
    "这个你能理解",
    "那么我请问大家了不了解",
    "不管是内存还是硬盘",
    "它的读写都有一个最小基本单位",
    "像这个机械磁盘",
    "你知道吗",
    "它的最小单位大概在512 B 啊",
    "这种单位如果是 SSD 呢",
    "它更大",
    "它的最小读写单位基本上在4 K 甚至8 K ",
    "也就是说，每一次存取这个硬盘",
    "我往硬盘里面存数据",
    "至少你要存4 K 的东西",
    "如果你存的东西不足4 K 的话",
    "有两个选择，对吧",
    "你和别的数据凑在一块存进去啊",
    "存在一个4 K 的块里，对吧",
    "要么就是你浪费这个4 K 的块",
    "你就存着一点数据",
    "大家想我们数据库里面一条数据",
    "普通的一条数据它能有多大呢",
    "一般都没有多大，对吧",
    "就是一条数据它占了4 K 的一个磁盘的块",
    "一个节点啊",
    "这对于我们现代的计算机啊",
    "现代的这种",
    "呃，数据库来说是无法做到的啊",
    "无法原谅的",
    "所以说在平衡二叉树的基础上",
    "大家想到了一个新的数据结构",
    "叫 B 锤避税是干什么",
    "其实我们自己想想",
    "大概也能想到这个思路",
    "就是你不是说这一个节点放的数据太少了对吧",
    "那我把这一个节点多放几个数据不就得了吗",
    "比如说我把 id 是六、七、八、九、十、11、12、13、14、15啊",
    "这十几个这个行的数据全堆在这一个节点里面",
    "这一个节点就够大了对吧",
    "我往硬盘存的时候啊",
    "够大了之后",
    "它的大小就能占满一个 block 啊",
    "那占满一个硬盘的块",
    "是不是硬盘的这个利用率就高起来了是吧",
    "就一个块",
    "还有一个利用率高的地方是什么呢",
    "就是说我一次存取这么多的时候",
    "可以极大地减少硬盘的读写啊",
    "我一次把十个行都取出来",
    "和我一次取一个行",
    "在硬盘的啊，读写逻辑上",
    "一次取一个行",
    "它的性能差距是巨大的",
    "以这个思路",
    "所以说啊",
    "人们就发明了什么 B 锤啊",
    "这里就讲到了点题的啊",
    "一个问题就是 B 脆和 B 加脆",
    "为什么有这个 B ",
    "其实业界对这个 B 没有一个权威的解释啊",
    "这个 B 是什么意思",
    "一般解释是必吹的",
    "B 是发明这个数据结构人的姓啊",
    "他的姓是以 B 打头的",
    "d tree 和 binary tree 就是二叉树",
    "没有任何关系啊",
    "有的时候人们还搞错",
    "以为避税是 binary tree ",
    "其实不一样啊",
    "避税是 b tree 啊",
    "binary tree 是二叉树啊",
    "binary tree 是 binary tree ",
    "那我们具体的从我们 PPT 里面的啊",
    "这一个 B 数来看一下 B 数的特点有哪些",
    "这个节点啊",
    "大家看这个 B 数啊",
    "那根节点有两条数据",
    "三个指针",
    "而且它有什么",
    "两条数据",
    "三个指针这个头上啊",
    "看到没有",
    "头上的这个指针它不是三啊",
    "不是三，是三",
    "前面还有一个小的数据结构",
    "是一个指针",
    "它指向了它的左边的字数",
    "中间它还有一个小的数据结构啊",
    "三和11",
    "是一个指针指向了三和11之间的字数",
    "最右边也有一个指针",
    "它指向了啊",
    "比11大的这个字数啊",
    "也就是说每一个 B 数的节点是指针加数据加",
    "指针加数据加指针",
    "这样一个交替的一个数据结构",
    "那我们如果想查询",
    "12这条数据怎么查呢",
    "比如说12啊",
    "先查根节点啊",
    "跟二叉树是一样的",
    "查根节点先看003啊",
    "12比三大对吧",
    "再看011啊",
    "在这个节点里面是什么",
    "线性查找啊",
    "就是先找第一个不对啊",
    "第二个还不对",
    "但是已经有一个定论是什么呢",
    "我需要找的12比11还大",
    "要找它的这个右边的子数",
    "那么我需要怎么找",
    "也就是这个指针",
    "指针指向一个右面的子数",
    "这个右面的子数是一定啊",
    "12是在里面的",
    "为什么呢",
    "这是他的数据结构保证的",
    "12比11大",
    "过来之后找第一个找什么",
    "发现13比12大了",
    "就是13啊",
    "12一定在哪儿",
    "什么意思",
    "12一定在13前面的这个指针",
    "左边的指针往下指",
    "一定在下面的这个指数里面",
    "发现，哎，12就在这啊",
    "这就是 B 数的数据的查找过程",
    "大家看 B 数",
    "从这样看 B 数有什么特点啊",
    "B 数是线性数据和数的结合",
    "也就是说在外部啊",
    "在节点的外部是通过什么树",
    "这种数据结构来查找",
    "但是在节点的内部是什么",
    "是通过线性搜索来查找",
    "比如说我要找六啊",
    "我要找六这个节点",
    "他找到这个节点之后",
    "是不是第一个遇到的是五，对吧",
    "五下面才是六啊",
    "找五和六的时候",
    "是不是一个线性的数据结构，对吧",
    "比如如果是一个 block 啊",
    "这一个块里面或者是一个节点里面",
    "那我要找其中的一条",
    "它有十条数据",
    "是不是从第一个开始往后遍历，对吧",
    "它是线性查找 B 数",
    "通过多数据节点大大降低了树的高度",
    "什么意思",
    "如果说这几个节点它只能存一条数据的话",
    "大家看",
    "是不是这个数要变高啊",
    "要进一步变高，对吧",
    "那进一步变高",
    "就说明我们需要从根节点",
    "一次一次一次往下便利",
    "那对于这种内存型的来说",
    "其实一次次往下便利",
    "它的代价是不大的啊",
    "但是对于硬盘型的我们数据库来说",
    "它一次一次往下遍历",
    "一次一次找下一个节点",
    "它的代价是非常高的",
    "它需要在磁盘上寻址",
    "就算是 SSD ，它的速度也是远低于内存的",
    "所以说我们对于数据库来说",
    "它的索引的结构要求就是树的高度",
    "能降低就降低啊",
    "每一个节点所存放的数据越多越好",
    "为什么呢",
    "我从硬盘上把这一个节点的数据",
    "全部取回内存里",
    "然后我在内存里边再便利",
    "其实反而效率是高的",
    "不要让我在硬盘上的一个一个节点里面去扒拉、去找",
    "那 B 数呢，是不需要旋转就可以保证树的平衡",
    "只是 B 数它的这种数据结构带来的优势",
    "好，这是 B 数",
    "那有同学说了",
    "唉，我觉得 B 数这种数据结构就非常优秀了，对吧",
    "那后面的 B 加数又加了个什么呢",
    "大家想啊，想这么一个问题啊",
    "我如果想找一条数据",
    "一段数据是从5~9、五、六、七、八、九",
    "这几个我都要找",
    "我把它放大",
    "我怎么把它找出来",
    "先什么从根节点找找找找找到五对吧",
    "然后呢，从根节点找找找找，找到六对吧",
    "然后从根节点往下找找找找什么",
    "找七一看七没有，对吧",
    "再从根节点回去找找找找八",
    "八也没有，再找找九啊",
    "这几个这样才找到",
    "是不是很麻烦",
    "而且在我们数据库里面",
    "有大量的这种范围的操作",
    "比如说我要找十岁到18岁之间的人啊",
    "比如说我要找身高在1米5到1米6之间的人",
    "是不是有有大量的这种什么范围查找 B 数",
    "对这种范围查找它的效率是非常低的啊，对吧",
    "所以说啊",
    "我们就发展出来了 B 加数",
    "那我们来看一下 B 加数",
    "具体改进在了哪个地方啊",
    "这个 PPT 的下面就是一个 B 加数啊",
    "我们把它放大一下看",
    "你乍一看好像跟 B 数差不多，对吧",
    "它有根节点对吧",
    "根节点下面是什么",
    "是左子树",
    "右子树对吧",
    "而且也是每一个节点里面有多条数据，对吧",
    "它也是可以有很多层",
    "但是我一缩小",
    "你会发现有问题",
    "什么问题呢",
    "它最下面有箭头",
    "它最下面有箭头",
    "看到没",
    "最下面这个叶子节点都有箭头",
    "而且还有什么问题",
    "你看这里面有几个五",
    "就俩",
    "看不就俩",
    "有几个七",
    "这几个十字，哎，有俩",
    "你发现什么问题啊",
    "在叶子节点上层出现过的数据",
    "在上面啊",
    "是不是在底层都出现了",
    "看这不是重复的啊",
    "这也有七，这儿有",
    "12",
    "那什么意思呢",
    "就是说 B 加数里面",
    "所有的数据都在最下面的这个叶子节点里面",
    "而上面单纯的就是索引",
    "也就是说他把索引和数据分开了啊",
    "真正的数据存在最下面的叶子节点里啊",
    "上面只是指示的指针啊",
    "上面都是一堆指针",
    "指向最终的叶子节点的数据的",
    "而且大家发现叶子节点之间用箭头形成了链表",
    "也就是说我们在进行范围查询的时候",
    "它的效率是极高的啊",
    "比如说我要查询从6~9啊",
    "从六岁到九岁的人，六，对吧",
    "我不用挨个去查找啊",
    "我只需要先把六查出来",
    "0126比零二小，对吧",
    "在这边发现，哎",
    "五和七之间就是六",
    "那么五六就应该在五和七中间",
    "这个指针所指向的这个子树上啊，对吧",
    "一下就找到了这个叶子节点",
    "我把这个叶子节点读回硬盘",
    "这个叶子节点",
    "发现什么啊",
    "我记在里面进行遍历",
    "第一个是五",
    "第一个是五",
    "第二个就是六，哎",
    "嗯",
    "这就是找到六的过程",
    "六找到了对吧",
    "找到六我要找什么",
    "比六大比九小的对吧",
    "六比六大，我不需要再从上面再回来找七",
    "六的下一个这个节点",
    "他已经用指针给指出来了啊",
    "下一个阶段就是七",
    "那七的下一个数据是什么",
    "是九。为什么呢",
    "七和九在同一个节点里面啊",
    "我只需要用线性遍历的方法就可以找到九，对吧",
    "那比九大的数据在哪呢",
    "九后面有个指针",
    "它直接指向比九大的这个数据啊",
    "我发现是怎么样了",
    "这个数据已经不在我查询的范围内了",
    "所以六、七、九我全找到了",
    "范围查找的时候非常非常的方便",
    "是不是",
    "而且它还保留了 B 数啊",
    "每个节点有多条数据",
    "高效利用磁盘的一个特性",
    "好，我们总结一下 B 加数的特点啊",
    "B 加数很显然它是由 B 数发展而来的",
    "但是 B 加数跟 B 数有非常的不一样",
    "B 加数所有的数据都在叶子节点啊",
    "中间的啊，上层的节点全是指针啊",
    "全是指示我们应该去哪个叶子节点寻找的功能，对吧",
    "那 B 加数的所有的数据啊",
    "形成了一个链表",
    "就是所有叶子节点的数据",
    "形成了一个线性的列表",
    "这就导致什么呢",
    "B 加数也是数和线性查找的一个集合",
    "但是它把磁盘的利用率啊",
    "做的已经非常非常高",
    "而且改善了这个范围选择的效率",
    "好，又到了总结的时间了",
    "我们总结一下这两小节的内容",
    "其实这两小节老师并不是啊",
    "简单的告诉你 B 加数是什么东西啊",
    "B 加数它更新的时候应该怎么办",
    "他节点分类的时候怎么办",
    "其实这些资料在网上多的是啊",
    "删除的时候怎么办",
    "老师想告诉大家的是",
    "B 加数这种数据结构",
    "它创造的时候考虑的是什么",
    "它是由什么发展而来的",
    "他为什么要选择 B 数和链表结合的这种方式啊",
    "你知道它怎么来的",
    "你才能以后啊，在自己的创新上",
    "你知道他的思路是什么",
    "有自己的这种见解和自己的方式",
    "那总结的内容就是",
    "首先 B 加数就是最主流的数据库索引的算法啊",
    "不管是印度 dB 、 MYM ",
    "还有其他的数据库",
    "还有一些 new SQL 的数据库啊",
    "比如说 POSTGRES ",
    "大量的数据库都是以 B 加数为基础的啊",
    "索引算法",
    "而 B 加数它不是凭空创造出来的",
    "现在我们很多的时候都在提倡什么",
    "其实从0~1的创新是很少很少的",
    "从0~1的创新",
    "大部分的创新都是1+1大于二",
    "那 B 加数就是一个典型的1+1大于二的创新",
    "它由线性表、二叉树、 B 数这样一步一步的发展过来",
    "它结合了线性表和二叉树 B 数的特点",
    "1+1大于二",
    "但是他做到了什么",
    "它的性能是非常好的",
    "因为它集成了线性表和平衡二叉树的优势啊",
    "它既有查找速度快的优势",
    "又有范围查询效率高的优势",
    "又有磁盘利用效率高的优势",
    "所以说 B 加数才集合了啊",
    "前面那些算法的达成好",
    "这两个小节的内容就到这里",
    "谢谢大家",
    "4-3"
]